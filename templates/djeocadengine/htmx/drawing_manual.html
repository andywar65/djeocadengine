{% load crispy_forms_tags %}
{% load i18n %}

<div class="card-header">
  <h4 class="card-title">
    {% trans "Add GeoData"%}: {{ object }}
  </h4>
</div>
<div class="card-body">
  <div class="alert alert-warning alert-dismissible fade show" role="alert">
    {% blocktrans %}
      No Geodata found in DXF, you must insert it manually.
      On the map click a point corresponding to a geolocated DXF point
      or enter Latitude and Longitude manually.
      In X and Y enter the coordinates of this point in DXF units (it defaults to WCS origin).
      Rotation is the angle you need to rotate the drawing to orient it
      correctly to True North (angle in degrees, counterclockwise is positive).
    {% endblocktrans %}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
  {% csrf_token %}
  <form>
    <div class="row">
      <div class="col">
        {{ form.lat|as_crispy_field }}
      </div>
      <div class="col">
        {{ form.long|as_crispy_field }}
      </div>
    </div>
    <div class="row">
      <div class="col">
        {{ form.designx|as_crispy_field }}
      </div>
      <div class="col">
        {{ form.designy|as_crispy_field }}
      </div>
    </div>
    {{ form.rotation|as_crispy_field }}
    <button class="btn btn-primary"
            hx-post="{% url 'djeocadengine:drawing_manual' pk=object.id %}"
            hx-target="#nav-card">
      {% trans 'Add GeoData' %}
    </button>
  </div>
</form>
{% include "djeocadengine/includes/map_data.html" %}
